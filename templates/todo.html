{% extends "base.html" %}
{% block title %}Sanctuary - To-Do{% endblock %}
{% block content %}
<h1>To-Do List</h1>

<!-- "New day" Button in place of subheader -->
<form id="reset-tasks-form" action="{{ url_for('reset_tasks') }}" method="POST" style="margin-bottom:2em; text-align:center;">
  <button type="submit" class="add-btn" style="background:#e3eaf2;color:#1a2233;">New day</button>
</form>

<form class="task-input" action="{{ url_for('add_task') }}" method="POST" id="add-task-form">
  <input type="text" name="task" id="task" placeholder="Add a new task..." required />
  <button type="submit" class="add-btn">Add Task</button>
</form>

{% include "task_list.html" %}

<!-- Edit Task Modal -->
<div id="edit-modal" class="edit-modal">
  <form id="edit-task-form" class="edit-modal-form">
    <h2>Edit Task</h2>
    <input
      type="text"
      id="edit-task-input"
      name="title"
      class="edit-modal-input"
      placeholder="Edit task title..."
      required
      autocomplete="off"
      maxlength="100"
    >
    <div class="edit-modal-actions">
      <button type="button" class="edit-modal-cancel" onclick="closeEditModal()">Cancel</button>
      <button type="submit" class="edit-modal-save">Save</button>
    </div>
  </form>
</div>
{% endblock %}